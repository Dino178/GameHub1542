<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Game Hub</title>
<style>
:root{
  --bg:#0b0c0e; --panel:#111214; --muted:#9aa0a6; --accent:#ffd166;
  --card:#141518; --ok:#2ecc71; --bad:#e74c3c;
}
body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;background:var(--bg);color:#e7eef6}
header{background:var(--panel);padding:18px 24px;text-align:center}
header h1{margin:0;color:var(--accent)}
main{max-width:1100px;margin:18px auto;padding:18px}
.menu, .panel{background:var(--card);padding:16px;border-radius:10px;margin-bottom:14px}
button{background:#1f2226;color:#fff;border:0;padding:8px 12px;border-radius:8px;margin:6px;cursor:pointer}
select,input,textarea{padding:8px;border-radius:8px;border:1px solid #222;background:#0e0f11;color:#fff}
label{color:var(--muted);margin-right:10px}
.controls{margin:8px 0}
.small{font-size:13px;color:var(--muted)}
.leaderboard{background:#0e1012;padding:10px;border-radius:8px;margin-top:12px;max-height:260px;overflow:auto;text-align:left}
.resultline{margin-top:8px;color:var(--muted)}
.achievement{color:var(--accent);font-weight:700;margin-top:6px;display:block}
.hidden{display:none}
.inline{display:inline-block}
.game-title{margin:0 0 8px 0}
ol{margin:8px 0 0 18px;padding:0}
#reactionArea{width:340px;height:140px;margin:14px auto;border-radius:10px;display:flex;align-items:center;justify-content:center;user-select:none;cursor:pointer}
</style>
</head>
<body>
<header>
  <h1>Ultimate Game Hub</h1>
</header>
<main>
  <section class="menu" id="mainMenu">
    <h2 class="game-title">Games</h2>
    <div class="controls">
      <button onclick="enterGame('guess')">Guess the Number</button>
      <button onclick="enterGame('math')">Math Quiz</button>
      <button onclick="enterGame('reaction')">Reaction Game</button>
      <button onclick="enterGame('typing')">Gibberish Typing</button>
      <button onclick="enterGame('numMemory')">Number Memory</button>
      <button onclick="enterGame('seqTap')">Sequence Tap</button>
      <button onclick="enterGame('wordChain')">Word Memory Chain</button>
    </div>
    <div class="small">Leaderboards persist in your browser (localStorage). Username is asked after selecting a game.</div>
    <div class="small"><button onclick="toggleTheme()">Toggle Light/Dark Mode</button></div>
  </section>

  <section class="panel hidden" id="panel-guess"></section>
  <section class="panel hidden" id="panel-math"></section>
  <section class="panel hidden" id="panel-reaction"></section>
  <section class="panel hidden" id="panel-typing"></section>
  <section class="panel hidden" id="panel-numMemory"></section>
  <section class="panel hidden" id="panel-seqTap"></section>
  <section class="panel hidden" id="panel-wordChain"></section>
</main>

<script>
// ----------------------
// Theme toggle
// ----------------------
let darkMode = true;
function toggleTheme(){
  if(darkMode){
    document.body.style.background='#eee';
    document.body.style.color='#111';
    document.querySelectorAll('.menu, .panel').forEach(e=>e.style.background='#ddd');
    darkMode=false;
  } else {
    document.body.style.background='#0b0c0e';
    document.body.style.color='#e7eef6';
    document.querySelectorAll('.menu, .panel').forEach(e=>e.style.background='#141518');
    darkMode=true;
  }
}

// ----------------------
// Leaderboard helpers
// ----------------------
function lbKey(game, mode){ return 'LH_'+game+'_'+mode; }
function saveToLB(game, mode, entry, comparator){
  const key = lbKey(game,mode);
  let arr = JSON.parse(localStorage.getItem(key)||'[]');
  arr.push(entry);
  arr.sort(comparator);
  arr = arr.slice(0,100);
  localStorage.setItem(key, JSON.stringify(arr));
}
function showLBIn(containerId, game, mode, fmt){
  const key = lbKey(game,mode);
  let arr = JSON.parse(localStorage.getItem(key)||'[]');
  const container=document.getElementById(containerId);
  if(!arr.length){ container.innerHTML='<i>No scores yet for this mode.</i>'; return; }
  let html='<b>Top '+Math.min(arr.length,100)+'</b><ol>';
  arr.forEach(e=>html+='<li>'+escapeHTML(e.name)+' â€” '+fmt(e)+'</li>');
  html+='</ol>';
  container.innerHTML=html;
}
function escapeHTML(s){ return String(s).replace(/[&<>"]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c])); }

// ----------------------
// Navigation
// ----------------------
function hideAllPanels(){ document.querySelectorAll('.panel').forEach(p=>p.classList.add('hidden')); }
function returnToMenu(){
  window.__playerName='';
  hideAllPanels();
  document.getElementById('mainMenu').style.display='block';
  document.querySelectorAll('[id$="Play"], [id$="PlayArea"]').forEach(n=>{ if(n) n.innerHTML=''; });
}

// ----------------------
// Enter game
// ----------------------
function enterGame(key){
  hideAllPanels();
  document.getElementById('mainMenu').style.display='none';
  const panel = document.getElementById('panel-'+key);
  panel.classList.remove('hidden');

  panel.innerHTML = '';
  const title = document.createElement('h2'); title.textContent = key.toUpperCase(); panel.appendChild(title);

  const nameInput = document.createElement('input'); nameInput.placeholder='Your name';
  const startBtn = document.createElement('button'); startBtn.textContent='Start';
  panel.appendChild(nameInput); panel.appendChild(startBtn);
  startBtn.onclick=()=>{ 
    const name = (nameInput.value||'').trim()||'Player'; 
    window.__playerName = name;
    if(key==='guess') setupGuess(panel);
    if(key==='math') setupMath(panel);
    if(key==='reaction') setupReaction(panel);
    if(key==='typing') setupTyping(panel);
    if(key==='numMemory') setupNumMemory(panel);
    if(key==='seqTap') setupSeqTap(panel);
    if(key==='wordChain') setupWordChain(panel);
  };
}

// ----------------------
// Game 1: Guess the Number
// ----------------------
function setupGuess(panel){
  panel.innerHTML = '';
  panel.innerHTML = `<label>Difficulty:</label>
<select id="guessDiff">
  <option>Easy</option><option>Normal</option><option>Hard</option><option>Nightmare</option>
</select>
<div id="guessPlayArea"></div>
<div class="leaderboard" id="guessLB"></div>
<button onclick="returnToMenu()">Return</button>`;
  const area = panel.querySelector('#guessPlayArea');
  const diffSel = panel.querySelector('#guessDiff');
  startGuessRound(area, diffSel.value);
  diffSel.onchange=()=>startGuessRound(area, diffSel.value);
}

function startGuessRound(area, difficulty){
  area.innerHTML='';
  const max = {Easy:10, Normal:50, Hard:100, Nightmare:500}[difficulty];
  const target = Math.floor(Math.random()*max)+1;
  const info = document.createElement('div'); info.textContent=`Guess a number between 1 and ${max}`; area.appendChild(info);
  const input = document.createElement('input'); input.type='number'; area.appendChild(input);
  const btn = document.createElement('button'); btn.textContent='Guess'; area.appendChild(btn);
  const result = document.createElement('div'); area.appendChild(result);
  let attempts=0;
  btn.onclick=()=>{
    const val = parseInt(input.value);
    attempts++;
    if(val===target){ 
      result.innerHTML=`Correct in ${attempts} attempts!`;
      if(difficulty==='Nightmare' && attempts===1){ area.innerHTML+='<span class="achievement">Nightmare Ace!</span>'; }
      saveToLB('guess',difficulty,{name:window.__playerName,attempts},(a,b)=>a.attempts-b.attempts);
      showLBIn('guessLB','guess',difficulty,e=>e.attempts+' attempts');
    } else { result.textContent=val>target?'Too high':'Too low'; }
  };
}

// ----------------------
// Game 2: Math Quiz
// ----------------------
function setupMath(panel){
  panel.innerHTML=`
<label>Difficulty:</label>
<select id="mathDiff">
  <option>Easy</option><option>Normal</option><option>Hard</option><option>Nightmare</option>
</select>
<div id="mathPlayArea"></div>
<div class="leaderboard" id="mathLB"></div>
<button onclick="returnToMenu()">Return</button>`;
  startMath(panel.querySelector('#mathPlayArea'),panel.querySelector('#mathDiff').value);
  panel.querySelector('#mathDiff').onchange=e=>{
    startMath(panel.querySelector('#mathPlayArea'),e.target.value);
  };
}
function startMath(area,diff){
  area.innerHTML='';
  const ops = {Easy:['+','-'],Normal:['+','-','*'],Hard:['+','-','*','/'],Nightmare:['+','-','*','/']};
  const max={Easy:10,Normal:50,Hard:100,Nightmare:500}[diff];
  const n1=Math.floor(Math.random()*max)+1;
  const n2=Math.floor(Math.random()*max)+1;
  const op = ops[diff][Math.floor(Math.random()*ops[diff].length)];
  let answer;
  switch(op){
    case '+': answer=n1+n2; break;
    case '-': answer=n1-n2; break;
    case '*': answer=n1*n2; break;
    case '/': answer=Math.round(n1/n2); break;
  }
  const q = document.createElement('div'); q.textContent=`${n1} ${op} ${n2} = ?`; area.appendChild(q);
  const input=document.createElement('input'); input.type='number'; area.appendChild(input);
  const btn=document.createElement('button'); btn.textContent='Submit'; area.appendChild(btn);
  const result=document.createElement('div'); area.appendChild(result);
  btn.onclick=()=>{
    const val=parseInt(input.value);
    if(val===answer){
      result.textContent='Correct!';
      if(diff==='Nightmare'){ area.innerHTML+='<span class="achievement">Nightmare Math Whiz!</span>'; }
      saveToLB('math',diff,{name:window.__playerName,score:1},(a,b)=>b.score-a.score);
      showLBIn('mathLB','math',diff,e=>'1 correct');
    } else result.textContent='Wrong, try again.';
  };
}

// ----------------------
// Game 3: Reaction
// ----------------------
function setupReaction(panel){
  panel.innerHTML=`
<label>Difficulty:</label>
<select id="reactionDiff">
  <option>Easy</option><option>Normal</option><option>Hard</option><option>Nightmare</option>
</select>
<div id="reactionPlayArea">
<div id="reactionArea">Wait...</div>
<div id="reactionResult" class="resultline"></div>
</div>
<div class="leaderboard" id="reactionLB"></div>
<button onclick="returnToMenu()">Return</button>`;
  startReaction(panel.querySelector('#reactionArea'),panel.querySelector('#reactionDiff').value);
  panel.querySelector('#reactionDiff').onchange=e=>{
    startReaction(panel.querySelector('#reactionArea'),e.target.value);
  };
}
function startReaction(area,diff){
  area.textContent='Wait...'; area.style.background='#222';
  let startTime,endTime;
  const timeout = {Easy:1500,Normal:1000,Hard:700,Nightmare:500}[diff]+Math.random()*1000;
  setTimeout(()=>{
    area.textContent='CLICK!';
    area.style.background='#2ecc71';
    startTime=performance.now();
    area.onclick=function(){
      endTime=performance.now();
      const reaction=(endTime-startTime).toFixed(0);
      area.textContent=`${reaction} ms`;
      if(diff==='Nightmare'&&reaction<200){ area.innerHTML+='<span class="achievement">Nightmare Speedster!</span>'; }
      saveToLB('reaction',diff,{name:window.__playerName,reaction},(a,b)=>a.reaction-b.reaction);
      showLBIn('reactionLB','reaction',diff,e=>e.reaction+' ms');
      area.onclick=null;
    };
  },timeout);
}

// ----------------------
// Game 4: Gibberish Typing
// ----------------------
function setupTyping(panel){
  panel.innerHTML=`
<label>Difficulty:</label>
<select id="typingDiff">
  <option>Easy</option><option>Normal</option><option>Hard</option><option>Nightmare</option>
</select>
<div id="typingPlayArea"></div>
<div class="leaderboard" id="typingLB"></div>
<button onclick="returnToMenu()">Return</button>`;
  startTyping(panel.querySelector('#typingPlayArea'),panel.querySelector('#typingDiff').value);
  panel.querySelector('#typingDiff').onchange=e=>{
    startTyping(panel.querySelector('#typingPlayArea'),e.target.value);
  };
}
function startTyping(area,diff){
  area.innerHTML='';
  const length={Easy:5,Normal:8,Hard:12,Nightmare:20}[diff];
  const text = Array.from({length},()=>String.fromCharCode(97+Math.floor(Math.random()*26))).join('');
  const span=document.createElement('div'); span.textContent=text; area.appendChild(span);
  const input=document.createElement('input'); area.appendChild(input);
  const btn=document.createElement('button'); btn.textContent='Check'; area.appendChild(btn);
  const res=document.createElement('div'); area.appendChild(res);
  btn.onclick=()=>{
    if(input.value===text){
      res.textContent='Correct!';
      if(diff==='Nightmare'){ area.innerHTML+='<span class="achievement">Nightmare Typist!</span>'; }
      saveToLB('typing',diff,{name:window.__playerName,score:1},(a,b)=>b.score-a.score);
      showLBIn('typingLB','typing',diff,e=>'1 correct');
    } else res.textContent='Incorrect, try again.';
  };
}

// ----------------------
// Game 5: Number Memory
// ----------------------
function setupNumMemory(panel){
  panel.innerHTML=`
<label>Difficulty:</label>
<select id="numMemDiff">
  <option>Easy</option><option>Normal</option><option>Hard</option><option>Nightmare</option>
</select>
<div id="numMemoryPlayArea"></div>
<div class="leaderboard" id="numMemoryLB"></div>
<button onclick="returnToMenu()">Return</button>`;
  startNumMemory(panel.querySelector('#numMemoryPlayArea'),panel.querySelector('#numMemDiff').value);
  panel.querySelector('#numMemDiff').onchange=e=>{
    startNumMemory(panel.querySelector('#numMemoryPlayArea'),e.target.value);
  };
}
function startNumMemory(area,diff){
  area.innerHTML='';
  const length={Easy:3,Normal:5,Hard:7,Nightmare:10}[diff];
  const num = Array.from({length},()=>Math.floor(Math.random()*10)).join('');
  const display=document.createElement('div'); display.textContent=num; area.appendChild(display);
  setTimeout(()=>{ display.textContent=''; const input=document.createElement('input'); area.appendChild(input);
    const btn=document.createElement('button'); btn.textContent='Check'; area.appendChild(btn);
    const res=document.createElement('div'); area.appendChild(res);
    btn.onclick=()=>{
      if(input.value===num){ res.textContent='Correct!';
        if(diff==='Nightmare'){ area.innerHTML+='<span class="achievement">Nightmare Memory!</span>'; }
        saveToLB('numMemory',diff,{name:window.__playerName,score:1},(a,b)=>b.score-a.score);
        showLBIn('numMemoryLB','numMemory',diff,e=>'1 correct');
      } else res.textContent='Wrong.'; }; },1000*length);
}

// ----------------------
// Game 6: Sequence Tap
// ----------------------
function setupSeqTap(panel){
  panel.innerHTML=`
<label>Difficulty:</label>
<select id="seqTapDiff">
  <option>Easy</option><option>Normal</option><option>Hard</option><option>Nightmare</option>
</select>
<div id="seqTapPlayArea"></div>
<div class="leaderboard" id="seqTapLB"></div>
<button onclick="returnToMenu()">Return</button>`;
  startSeqTap(panel.querySelector('#seqTapPlayArea'),panel.querySelector('#seqTapDiff').value);
  panel.querySelector('#seqTapDiff').onchange=e=>{
    startSeqTap(panel.querySelector('#seqTapPlayArea'),e.target.value);
  };
}
function startSeqTap(area,diff){
  area.innerHTML='';
  const seqLen={Easy:3,Normal:5,Hard:7,Nightmare:10}[diff];
  const colors=['Red','Green','Blue','Yellow'];
  const sequence=Array.from({length:seqLen},()=>colors[Math.floor(Math.random()*colors.length)]);
  const display=document.createElement('div'); display.textContent='Watch sequence: '+sequence.join(' '); area.appendChild(display);
  setTimeout(()=>{ display.textContent='Your turn:'; const input=document.createElement('input'); area.appendChild(input);
    const btn=document.createElement('button'); btn.textContent='Submit'; area.appendChild(btn);
    const res=document.createElement('div'); area.appendChild(res);
    btn.onclick=()=>{
      if(input.value.split(' ').join('')===sequence.join('')){ res.textContent='Correct!';
        if(diff==='Nightmare'){ area.innerHTML+='<span class="achievement">Nightmare Sequencer!</span>'; }
        saveToLB('seqTap',diff,{name:window.__playerName,score:1},(a,b)=>b.score-a.score);
        showLBIn('seqTapLB','seqTap',diff,e=>'1 correct');
      } else res.textContent='Wrong sequence.';};},2000);
}

// ----------------------
// Game 7: Word Memory Chain
// ----------------------
function setupWordChain(panel){
  panel.innerHTML=`
<label>Difficulty:</label>
<select id="wordChainDiff">
  <option>Easy</option><option>Normal</option><option>Hard</option><option>Nightmare</option>
</select>
<div id="wordChainPlayArea"></div>
<div class="leaderboard" id="wordChainLB"></div>
<button onclick="returnToMenu()">Return</button>`;
  startWordChain(panel.querySelector('#wordChainPlayArea'),panel.querySelector('#wordChainDiff').value);
  panel.querySelector('#wordChainDiff').onchange=e=>{
    startWordChain(panel.querySelector('#wordChainPlayArea'),e.target.value);
  };
}
function startWordChain(area,diff){
  area.innerHTML='';
  const length={Easy:3,Normal:5,Hard:7,Nightmare:10}[diff];
  const words=['apple','banana','cat','dog','egg','fish','grape','hat','ice','jelly','kite','lion','moon','nest','orange','pig','queen','rat','sun','tree'];
  const sequence=Array.from({length},()=>words[Math.floor(Math.random()*words.length)]);
  const display=document.createElement('div'); display.textContent='Memorize: '+sequence.join(' '); area.appendChild(display);
  setTimeout(()=>{ display.textContent='Enter sequence:'; const input=document.createElement('input'); area.appendChild(input);
    const btn=document.createElement('button'); btn.textContent='Submit'; area.appendChild(btn);
    const res=document.createElement('div'); area.appendChild(res);
    btn.onclick=()=>{
      if(input.value.split(' ').join('').toLowerCase()===sequence.join('').toLowerCase()){ res.textContent='Correct!';
        if(diff==='Nightmare'){ area.innerHTML+='<span class="achievement">Nightmare Word Master!</span>'; }
        saveToLB('wordChain',diff,{name:window.__playerName,score:1},(a,b)=>b.score-a.score);
        showLBIn('wordChainLB','wordChain',diff,e=>'1 correct');
      } else res.textContent='Wrong sequence.';};},3000);
}
</script>
</body>
</html>

