<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Game Hub</title>
<style>
body { font-family: Arial, sans-serif; background:#121212; color:#f0f0f0; margin:0; padding:0;}
h1,h2 { color:#ffcc00; }
.container { padding:20px; max-width:900px; margin:auto;}
button { padding:10px 20px; margin:5px; font-size:16px; cursor:pointer;}
input { padding:5px; font-size:16px;}
.game { display:none; margin-top:20px; }
.leaderboard { background:#222; padding:10px; margin-top:10px; max-height:300px; overflow-y:auto;}
.achievement { color:#00ffcc; font-weight:bold; }
#reactionPrompt, #memoryPrompt, #typingText { font-size:24px; font-weight:bold; margin:20px 0; color:#00ffcc; }
</style>
</head>
<body>
<div class="container">
<h1>Ultimate Game Hub</h1>
<div>
<label>Enter Username: <input type="text" id="username" value="Player1"></label>
</div>
<div>
<h2>Select a Game:</h2>
<button onclick="showGame('guess')">Guess the Number</button>
<button onclick="showGame('math')">Math Quiz</button>
<button onclick="showGame('reaction')">Reaction Game</button>
<button onclick="showGame('typing')">Gibberish Typing</button>
<button onclick="showGame('numMemory')">Number Memory</button>
<button onclick="showGame('seqTap')">Sequence Tap</button>
<button onclick="showGame('wordChain')">Word Memory Chain</button>
</div>

<!-- Game Divs -->
<div id="guess" class="game"><h2>Guess the Number</h2><div id="guessContent"></div><div class="leaderboard" id="guessLeaderboard"></div><button onclick="backToMenu()">Back</button></div>
<div id="math" class="game"><h2>Math Quiz</h2><div id="mathContent"></div><div class="leaderboard" id="mathLeaderboard"></div><button onclick="backToMenu()">Back</button></div>
<div id="reaction" class="game"><h2>Reaction Game</h2><div id="reactionContent"></div><div class="leaderboard" id="reactionLeaderboard"></div><button onclick="backToMenu()">Back</button></div>
<div id="typing" class="game"><h2>Gibberish Typing</h2><div id="typingContent"></div><div id="typingText"></div><div class="leaderboard" id="typingLeaderboard"></div><button onclick="backToMenu()">Back</button></div>
<div id="numMemory" class="game"><h2>Number Memory</h2><div id="numMemoryContent"></div><div class="leaderboard" id="numMemoryLeaderboard"></div><button onclick="backToMenu()">Back</button></div>
<div id="seqTap" class="game"><h2>Sequence Tap</h2><div id="seqTapContent"></div><div class="leaderboard" id="seqTapLeaderboard"></div><button onclick="backToMenu()">Back</button></div>
<div id="wordChain" class="game"><h2>Word Memory Chain</h2><div id="wordChainContent"></div><div class="leaderboard" id="wordChainLeaderboard"></div><button onclick="backToMenu()">Back</button></div>

<script>
// ---------------- Utility Functions ----------------
function showGame(id){
    const username=document.getElementById('username').value.trim()||'Player';
    document.querySelectorAll('.game').forEach(g=>g.style.display='none');
    document.getElementById(id).style.display='block';
    switch(id){
        case 'guess': startGuess(username); break;
        case 'math': startMath(username); break;
        case 'reaction': startReaction(username); break;
        case 'typing': startTyping(username); break;
        case 'numMemory': startNumMemory(username); break;
        case 'seqTap': startSeqTap(username); break;
        case 'wordChain': startWordChain(username); break;
    }
}
function backToMenu(){document.querySelectorAll('.game').forEach(g=>g.style.display='none');}
function saveLeaderboard(game, mode, entry){
    let data=JSON.parse(localStorage.getItem('leaderboards')||'{}');
    data[game]=data[game]||{};
    data[game][mode]=data[game][mode]||[];
    data[game][mode].push(entry);
    data[game][mode].sort((a,b)=>{
        if(a.score!==b.score) return b.score-a.score;
        return (a.time||0)-(b.time||0);
    });
    data[game][mode]=data[game][mode].slice(0,100);
    localStorage.setItem('leaderboards', JSON.stringify(data));
}
function showLeaderboard(game, mode, containerId){
    const container=document.getElementById(containerId);
    container.innerHTML='';
    let data=JSON.parse(localStorage.getItem('leaderboards')||'{}');
    if(!data[game]||!data[game][mode]){container.innerHTML='No scores yet!'; return;}
    data[game][mode].forEach((e,i)=>{
        const timeStr=e.time!==undefined?` (${e.time.toFixed(6)}s)`:'';
        container.innerHTML+=`${i+1}. ${e.name} ‚Äî ${e.score}${timeStr}<br>`;
    });
}

// ---------------- Guess the Number ----------------
function startGuess(username){
    const content=document.getElementById('guessContent'); content.innerHTML='';
    let difficulties=[{name:'Very Easy',min:1,max:20},{name:'Easy',min:1,max:50},{name:'Normal',min:1,max:100},{name:'Hard',min:1,max:250},{name:'Extreme',min:1,max:1000}];
    let select=document.createElement('select');
    difficulties.forEach((d,i)=>{let opt=document.createElement('option'); opt.value=i; opt.innerText=d.name; select.appendChild(opt);});
    const startBtn=document.createElement('button'); startBtn.innerText='Start';
    content.appendChild(select); content.appendChild(startBtn);
    startBtn.onclick=function(){
        let diff=difficulties[select.value];
        let min=diff.min, max=diff.max;
        let number=Math.floor(Math.random()*(max-min+1))+min;
        let attempts=0; let start=performance.now();
        content.innerHTML='';
        const input=document.createElement('input'); input.type='number'; input.placeholder='Enter your guess';
        const button=document.createElement('button'); button.innerText='Guess';
        const info=document.createElement('div');
        function guessNumber(){
            let val=parseInt(input.value); attempts++;
            if(val<number) info.innerText='Too low!';
            else if(val>number) info.innerText='Too high!';
            else{
                let elapsed=(performance.now()-start)/1000;
                info.innerHTML=`Correct! Attempts: ${attempts}, Time: ${elapsed.toFixed(6)}s`;
                let score=-attempts;
                saveLeaderboard('guess',diff.name,{name:username,score:score,time:elapsed});
                showLeaderboard('guess',diff.name,'guessLeaderboard');
                input.disabled=true; button.disabled=true;
                if(attempts===1) info.innerHTML+='<br><span class="achievement">üèÖ Lucky First Guess!</span>';
                if(elapsed<5) info.innerHTML+='<br><span class="achievement">‚è±Ô∏è Speedy! &lt;5s!</span>';
            }
        }
        button.onclick=guessNumber;
        input.addEventListener('keydown', e=>{if(e.key==='Enter') guessNumber();});
        content.appendChild(input); content.appendChild(button); content.appendChild(info);
    };
}

// ---------------- Math Quiz ----------------
function startMath(username){
    const content=document.getElementById('mathContent'); content.innerHTML='';
    let modes=[{name:'5 Q',num:5},{name:'10 Q',num:10},{name:'20 Q',num:20}];
    let select=document.createElement('select');
    modes.forEach((m,i)=>{let opt=document.createElement('option'); opt.value=i; opt.innerText=m.name; select.appendChild(opt);});
    const startBtn=document.createElement('button'); startBtn.innerText='Start';
    content.appendChild(select); content.appendChild(startBtn);
    startBtn.onclick=function(){
        let mode=modes[select.value]; content.innerHTML='';
        let numQ=mode.num; let correct=0; let qIndex=0;
        let start=performance.now(); let currentAnswer=0;
        const input=document.createElement('input'); input.type='number';
        const button=document.createElement('button'); button.innerText='Answer';
        const info=document.createElement('div'); content.appendChild(input); content.appendChild(button); content.appendChild(info);
        function nextQ(){
            if(qIndex>=numQ){
                let elapsed=(performance.now()-start)/1000;
                info.innerHTML=`Correct: ${correct}/${numQ}, Time: ${elapsed.toFixed(6)}s`;
                saveLeaderboard('math',mode.name,{name:username,score:correct,time:elapsed});
                showLeaderboard('math',mode.name,'mathLeaderboard');
                input.disabled=true; button.disabled=true;
                if(correct===numQ) info.innerHTML+='<br><span class="achievement">üèÖ Perfect Score!</span>';
                if(elapsed<numQ*2) info.innerHTML+='<br><span class="achievement">‚è±Ô∏è Speed Demon!</span>';
                return;
            }
            let a=Math.floor(Math.random()*12)+1; let b=Math.floor(Math.random()*12)+1;
            let ops=['+','-','*']; let op=ops[Math.floor(Math.random()*3)];
            currentAnswer=(op==='+')?a+b:(op==='-')?a-b:a*b;
            info.innerText=`Q${qIndex+1}: ${a} ${op} ${b} = ?`;
        }
        function submitAnswer(){
            if(parseInt(input.value)===currentAnswer) correct++;
            qIndex++; input.value=''; nextQ();
        }
        button.onclick=submitAnswer;
        input.addEventListener('keydown', e=>{if(e.key==='Enter') submitAnswer();});
        nextQ();
    };
}

// ---------------- Reaction Game ----------------
function startReaction(username){
    const content=document.getElementById('reactionContent'); content.innerHTML='';
    let modes=[3,5,10,2,7,15,25]; // times to repeat
    let select=document.createElement('select');
    modes.forEach(m=>{let opt=document.createElement('option'); opt.value=m; opt.innerText=`React ${m} times`; select.appendChild(opt);});
    const startBtn=document.createElement('button'); startBtn.innerText='Start';
    content.appendChild(select); content.appendChild(startBtn);

    startBtn.onclick=function(){
        let repeats=parseInt(select.value);
        content.innerHTML='';
        let times=[]; let current=0;
        const info=document.createElement('div'); const prompt=document.createElement('div'); prompt.id='reactionPrompt';
        const button=document.createElement('button'); button.innerText='Click!'; button.disabled=true;
        content.appendChild(prompt); content.appendChild(button); content.appendChild(info);

        function nextRound(){
            if(current>=repeats){
                let totalTime=times.reduce((a,b)=>a+b,0);
                info.innerHTML=`Total Time: ${totalTime.toFixed(6)}s`;
                saveLeaderboard('reaction',`${repeats}x`,{name:username,score:-totalTime,time:totalTime});
                showLeaderboard('reaction',`${repeats}x`,'reactionLeaderboard');
                if(totalTime<repeats*0.5) info.innerHTML+='<br><span class="achievement">‚ö° Lightning Reflexes!</span>';
                button.disabled=true; prompt.innerText='';
                return;
            }
            prompt.innerText='Get Ready...';
            button.disabled=true;
            setTimeout(()=>{
                let start=performance.now();
                prompt.innerText='CLICK!';
                button.disabled=false;
                button.onclick=function(){
                    let elapsed=(performance.now()-start)/1000;
                    times.push(elapsed);
                    current++;
                    nextRound();
                };
            }, Math.random()*2000+1000);
        }
        nextRound();
    };
}

// ---------------- Gibberish Typing ----------------
function startTyping(username){
    const content=document.getElementById('typingContent'); content.innerHTML='';
    let modes=[5,10,15,20,25,30,35,40];
    let select=document.createElement('select');
    modes.forEach(m=>{let opt=document.createElement('option'); opt.value=m; opt.innerText=`${m} words`; select.appendChild(opt);});
    const startBtn=document.createElement('button'); startBtn.innerText='Start';
    content.appendChild(select); content.appendChild(startBtn);

    startBtn.onclick=function(){
        let numWords=parseInt(select.value);
        content.innerHTML='';
        const words=[];
        for(let i=0;i<numWords;i++) words.push(Math.random().toString(36).substring(2,8));
        const display=document.getElementById('typingText'); display.innerText=words.join(' ');
        const input=document.createElement('input'); input.type='text';
        const button=document.createElement('button'); button.innerText='Submit';
        const info=document.createElement('div');
        content.appendChild(input); content.appendChild(button); content.appendChild(info);
        const start=performance.now();
        button.onclick=function(){
            let typed=input.value.trim().split(/\s+/);
            let correct=true;
            if(typed.length!==words.length) correct=false;
            else{for(let i=0;i<words.length;i++){if(typed[i]!==words[i]){correct=false;break;}}}
            let elapsed=(performance.now()-start)/1000;
            if(correct){
                info.innerHTML=`Perfect! Time: ${elapsed.toFixed(6)}s`;
                saveLeaderboard('typing',`${numWords}w`,{name:username,score:-elapsed,time:elapsed});
                showLeaderboard('typing',`${numWords}w`,'typingLeaderboard');
                if(elapsed<numWords*0.5) info.innerHTML+='<br><span class="achievement">‚ö° Typing Lightning!</span>';
            }else{info.innerHTML='Incorrect. Try again.';}
        };
        input.addEventListener('keydown', e=>{if(e.key==='Enter') button.click();});
    };
}

// ---------------- Memory Games ----------------
function startNumMemory(username){
    const content=document.getElementById('numMemoryContent'); content.innerHTML='Number Memory under construction'; showLeaderboard('numMemory','default','numMemoryLeaderboard');}
function startSeqTap(username){
    const content=document.getElementById('seqTapContent'); content.innerHTML='Sequence Tap under construction'; showLeaderboard('seqTap','default','seqTapLeaderboard');}
function startWordChain(username){
    const content=document.getElementById('wordChainContent'); content.innerHTML='Word Memory Chain under construction'; showLeaderboard('wordChain','default','wordChainLeaderboard');}
</script>
</body>
</html>
